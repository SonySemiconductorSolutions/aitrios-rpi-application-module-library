"use strict";(self.webpackChunkmodlib_docs=self.webpackChunkmodlib_docs||[]).push([[9251],{8506:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"apps/matcher","title":"Matcher","description":"MatcherSettings","source":"@site/_api_versioned_docs/version-1.0.0/apps/matcher.md","sourceDirName":"apps","slug":"/apps/matcher","permalink":"/en/application-module-library/docs/api-reference/1.0.0/apps/matcher","draft":false,"unlisted":false,"tags":[],"version":"1.0.0","lastUpdatedAt":1742829948000,"sidebarPosition":3,"frontMatter":{"title":"Matcher","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Heatmap","permalink":"/en/application-module-library/docs/api-reference/1.0.0/apps/heatmap"},"next":{"title":"Object Counter","permalink":"/en/application-module-library/docs/api-reference/1.0.0/apps/object_counter"}}');var i=t(4848),a=t(8453);const r={title:"Matcher",sidebar_position:3},l=void 0,c={},o=[{value:"MatcherSettings",id:"matchersettings",level:2},{value:"Matcher",id:"matcher",level:2},{value:"Methods",id:"methods",level:3},{value:'<span class="signature-title">__init__</span>',id:"__init__",level:4},{value:'<span class="signature-title">match</span>',id:"match",level:4},{value:'<span class="signature-title">update_tracked</span>',id:"update_tracked",level:4},{value:'<span class="signature-title">get_mask</span>',id:"get_mask",level:4},{value:'<span class="signature-title">merge_tensors</span>',id:"merge_tensors",level:4},{value:'<span class="signature-title">__len__</span>',id:"__len__",level:4},{value:'<span class="signature-title">__iter__</span>',id:"__iter__",level:4}];function d(e){const s={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"module-separator","data-content":"Dataclass"}),"\n",(0,i.jsx)(s.h2,{id:"matchersettings",children:"MatcherSettings"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)("div",{className:"signature",children:(0,i.jsx)("b",{children:"MatcherSettings"})}),"\nHelper datacalss containing the matcher settings."]}),"\n",(0,i.jsx)("div",{}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)("span",{className:"signature-title",children:"MAX_MISSING_OVERLAP: int"}),"\xa0\xa0\xa0\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)("span",{className:"signature-title",children:"MAX_MISSING_TRACKER: int"}),"\xa0\xa0\xa0\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)("span",{className:"signature-title",children:"MIN_OVERLAP_THRESHOLD: float"}),"\xa0\xa0\xa0\xa0"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)("span",{className:"signature-title",children:"HYSTERESIS: float"}),"\xa0\xa0\xa0\xa0"]}),"\n"]}),"\n",(0,i.jsx)("div",{className:"module-separator","data-content":"Class"}),"\n",(0,i.jsx)(s.h2,{id:"matcher",children:"Matcher"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsxs)("div",{className:"signature",children:[(0,i.jsx)("b",{children:"Matcher("}),"max_missing_overlap:\xa0int\xa0=\xa060, max_missing_tracker:\xa0int\xa0=\xa030, min_overlap_threshold:\xa0float\xa0=\xa00.5, hysteresis:\xa0float\xa0=\xa00.4",(0,i.jsx)("b",{children:")"})]}),"\nA class responsible for parsing new detections, matching them with the current state of objects,\nand ensuring that each object's state is updated accordingly. This class plays a crucial role in maintaining the\naccuracy and consistency of object tracking by synchronizing detected events with existing object data."]}),"\n",(0,i.jsx)(s.p,{children:"For example, to create and use Matcher it can be used like this. Can also be used with Tracker"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"from modlib.apps import Matcher\n\nmatcher = Matcher()\n...\npeople = detections[detections.class_id == 0]\nhats =  detections[detections.class_id == 1]\ndetections = people[matcher.match(people, hats)]\n"})}),"\n",(0,i.jsx)(s.h3,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(s.h4,{id:"__init__",children:(0,i.jsx)("span",{className:"signature-title",children:"__init__"})}),"\n",(0,i.jsxs)("div",{className:"signature",children:[(0,i.jsx)("b",{children:"__init__("}),"self, max_missing_overlap:\xa0int\xa0=\xa060, max_missing_tracker:\xa0int\xa0=\xa030, min_overlap_threshold:\xa0float\xa0=\xa00.5, hysteresis:\xa0float\xa0=\xa00.4",(0,i.jsx)("b",{children:")"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Args:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"max_missing_overlap"})," (int\xa0=\xa060): Maximum number of frames an object can be missing before it is considered lost."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"max_missing_tracker"})," (int\xa0=\xa030): Maximum number of frames an object can be missing before it is removed from tracking."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"min_overlap_threshold"})," (float\xa0=\xa00.5): Minimum overlap ratio required to consider two bounding boxes as overlapping."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"hysteresis"})," (float\xa0=\xa00.4): The hysteresis value used to determine the state of overlap detection."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"match",children:(0,i.jsx)("span",{className:"signature-title",children:"match"})}),"\n",(0,i.jsxs)("div",{className:"signature",children:[(0,i.jsx)("b",{children:"match("}),"self, base_object:\xa0",(0,i.jsx)(s.a,{href:"../models/results#detections",children:"Detections"}),", *objects_to_match:\xa0",(0,i.jsx)(s.a,{href:"../models/results#detections",children:"Detections"}),(0,i.jsx)("b",{children:")"})," \u2011> List[bool]"]}),"\n",(0,i.jsx)(s.p,{children:"Checks to see if one lot of bbox Detections overlap with a List of other objects"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Args:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"base_object"})," (",(0,i.jsx)(s.a,{href:"../models/results#detections",children:"Detections"}),"): The base Detections that will be to match other objects.\nobjects_to_match: Variadic list of the Detections to be checked against the main object."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Returns:"})," (List[bool])",(0,i.jsx)(s.br,{}),"\n","The mask of base detections that have all matched overlap objects"]}),"\n",(0,i.jsx)(s.h4,{id:"update_tracked",children:(0,i.jsx)("span",{className:"signature-title",children:"update_tracked"})}),"\n",(0,i.jsxs)("div",{className:"signature",children:[(0,i.jsx)("b",{children:"update_tracked("}),"self",(0,i.jsx)("b",{children:")"})]}),"\n",(0,i.jsx)(s.p,{children:"Updates the tracked Detection information over time. Also adds new tracked Detections and removes them."}),"\n",(0,i.jsx)(s.h4,{id:"get_mask",children:(0,i.jsx)("span",{className:"signature-title",children:"get_mask"})}),"\n",(0,i.jsxs)("div",{className:"signature",children:[(0,i.jsx)("b",{children:"get_mask("}),"self",(0,i.jsx)("b",{children:")"})," \u2011> List[bool]"]}),"\n",(0,i.jsx)(s.p,{children:"Generates output mask for object being matched"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Returns:"})," (List[bool])",(0,i.jsx)(s.br,{}),"\n","The mask of detections that are matched for chosen object."]}),"\n",(0,i.jsx)(s.h4,{id:"merge_tensors",children:(0,i.jsx)("span",{className:"signature-title",children:"merge_tensors"})}),"\n",(0,i.jsxs)("div",{className:"signature",children:[(0,i.jsx)("b",{children:"merge_tensors("}),"self",(0,i.jsx)("b",{children:")"})]}),"\n",(0,i.jsx)(s.h4,{id:"__len__",children:(0,i.jsx)("span",{className:"signature-title",children:"__len__"})}),"\n",(0,i.jsxs)("div",{className:"signature",children:[(0,i.jsx)("b",{children:"__len__("}),"self",(0,i.jsx)("b",{children:")"})]}),"\n",(0,i.jsx)(s.h4,{id:"__iter__",children:(0,i.jsx)("span",{className:"signature-title",children:"__iter__"})}),"\n",(0,i.jsxs)("div",{className:"signature",children:[(0,i.jsx)("b",{children:"__iter__("}),"self",(0,i.jsx)("b",{children:")"})," \u2011> Iterator[Tuple[numpy.ndarray,\xa0float,\xa0int,\xa0int,\xa0float,\xa0int]]"]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>l});var n=t(6540);const i={},a=n.createContext(i);function r(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);