"use strict";(self.webpackChunkmodlib_docs=self.webpackChunkmodlib_docs||[]).push([[1557],{348:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"devices/device","title":"Device","description":"Rate","source":"@site/_api_versioned_docs/version-1.1.0/devices/device.md","sourceDirName":"devices","slug":"/devices/device","permalink":"/en/application-module-library/docs/api-reference/devices/device","draft":false,"unlisted":false,"tags":[],"version":"1.1.0","lastUpdatedAt":1749815802000,"sidebarPosition":1,"frontMatter":{"title":"Device","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Ai Camera","permalink":"/en/application-module-library/docs/api-reference/devices/ai_camera"},"next":{"title":"Frame","permalink":"/en/application-module-library/docs/api-reference/devices/frame"}}');var t=n(4848),r=n(8453);const l={title:"Device",sidebar_position:1},a=void 0,d={},c=[{value:"Rate",id:"rate",level:2},{value:"Methods",id:"methods",level:3},{value:'<span class="signature-title">__init__</span>',id:"__init__",level:4},{value:'<span class="signature-title">init</span>',id:"init",level:4},{value:'<span class="signature-title">update</span>',id:"update",level:4},{value:'<span class="signature-title">__repr__</span>',id:"__repr__",level:4},{value:"Device",id:"device",level:2},{value:"Methods",id:"methods-1",level:3},{value:'<span class="signature-title">__init__</span>',id:"__init__-1",level:4},{value:'<span class="signature-title">deploy</span>',id:"deploy",level:4},{value:'<span class="signature-title">__enter__</span>',id:"__enter__",level:4},{value:'<span class="signature-title">__exit__</span>',id:"__exit__",level:4},{value:'<span class="signature-title">__iter__</span>',id:"__iter__",level:4},{value:'<span class="signature-title">__next__</span>',id:"__next__",level:4},{value:'<span class="signature-title">check_timeout</span>',id:"check_timeout",level:4}];function o(e){const s={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"module-separator","data-content":"Class"}),"\n",(0,t.jsx)(s.h2,{id:"rate",children:"Rate"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"Rate("}),"window:\xa0int\xa0=\xa030",(0,t.jsx)("b",{children:")"})]}),"\nA class used to maintain and calculate a rolling average rate (e.g., frames per second)."]}),"\n",(0,t.jsx)(s.p,{children:"The class accumulates timing deltas between consecutive updates in a deque and provides\nthe average rate based on the number of appended deltas over their sum."}),"\n",(0,t.jsx)(s.h3,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h4,{id:"__init__",children:(0,t.jsx)("span",{className:"signature-title",children:"__init__"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"__init__("}),"self, window:\xa0int\xa0=\xa030",(0,t.jsx)("b",{children:")"})]}),"\n",(0,t.jsx)(s.p,{children:"Initialize the Rate instance with a specified window size."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Args:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"window"})," (int\xa0=\xa030): The maximum number of time deltas stored to compute the ongoing average."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"init",children:(0,t.jsx)("span",{className:"signature-title",children:"init"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"init("}),"self",(0,t.jsx)("b",{children:")"})]}),"\n",(0,t.jsxs)(s.p,{children:["Re-initialize timing.",(0,t.jsx)(s.br,{}),"\n","This should typically be called prior to collecting rate updates to reset the reference time."]}),"\n",(0,t.jsx)(s.h4,{id:"update",children:(0,t.jsx)("span",{className:"signature-title",children:"update"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"update("}),"self",(0,t.jsx)("b",{children:")"})]}),"\n",(0,t.jsx)(s.p,{children:"Record the time elapsed since the last update, then recalculate and store the new average rate."}),"\n",(0,t.jsxs)(s.p,{children:["This method appends the latest time delta to the deque and uses it (along with previously stored",(0,t.jsx)(s.br,{}),"\n","deltas) to compute the new rolling average."]}),"\n",(0,t.jsx)(s.h4,{id:"__repr__",children:(0,t.jsx)("span",{className:"signature-title",children:"__repr__"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"__repr__("}),"self",(0,t.jsx)("b",{children:")"})," \u2011> str"]}),"\n",(0,t.jsx)(s.p,{children:"String representation of the current average rate."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Returns:"})," (str)",(0,t.jsx)(s.br,{}),"\n","The current stored rate as a string."]}),"\n",(0,t.jsx)("div",{className:"module-separator","data-content":"Class"}),"\n",(0,t.jsx)(s.h2,{id:"device",children:"Device"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"Device("}),"headless:\xa0Optional[bool]\xa0=\xa0False, enable_input_tensor:\xa0Optional[bool]\xa0=\xa0False, timeout:\xa0Optional[int]\xa0=\xa0None",(0,t.jsx)("b",{children:")"})]}),"\nAbstract base class for devices."]}),"\n",(0,t.jsx)(s.p,{children:"A device in the Application Module Library has to conform to the following interface:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Deploy a model to the device. Example usage:"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"model = Model()\ndevice.deploy(model, *args)\n"})}),"\n",(0,t.jsxs)(s.ol,{start:"2",children:["\n",(0,t.jsx)(s.li,{children:"Enter and iterate over the frames in the device stream. Example usage:"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"with device as stream:\n    for frame in stream:\n        ...\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Descendants"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"../devices/ai_camera#aicamera",children:"AiCamera"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"../devices/interpreters#kerasinterpreter",children:"KerasInterpreter"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"../devices/interpreters#onnxinterpreter",children:"ONNXInterpreter"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"../devices/playback#playback",children:"Playback"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"../devices/triton#triton",children:"Triton"})}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"methods-1",children:"Methods"}),"\n",(0,t.jsx)(s.h4,{id:"__init__-1",children:(0,t.jsx)("span",{className:"signature-title",children:"__init__"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"__init__("}),"self, headless:\xa0Optional[bool]\xa0=\xa0False, enable_input_tensor:\xa0Optional[bool]\xa0=\xa0False, timeout:\xa0Optional[int]\xa0=\xa0None",(0,t.jsx)("b",{children:")"})," \u2011> None"]}),"\n",(0,t.jsx)(s.p,{children:"Initialisation of the device base class."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Args:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"headless"})," (Optional[bool]\xa0=\xa0False): Initialising in headless mode means ",(0,t.jsx)(s.code,{children:"frame.image"})," is never processed and unavailable."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"enable_input_tensor"})," (Optional[bool]\xa0=\xa0False): When enabling input tensor, ",(0,t.jsx)(s.code,{children:"frame.image"})," will be replaced by the input tensor image."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"timeout"})," (Optional[int]\xa0=\xa0None): If set, automatically stop the device loop after the specified seconds."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"deploy",children:(0,t.jsx)("span",{className:"signature-title",children:"deploy"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"deploy("}),"self, model:\xa0",(0,t.jsx)(s.a,{href:"../models/model#model",children:"Model"}),", *args",(0,t.jsx)("b",{children:")"})]}),"\n",(0,t.jsx)(s.p,{children:"Abstract method to deploy a model to the device."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Args:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"model"})," (",(0,t.jsx)(s.a,{href:"../models/model#model",children:"Model"}),"): The model to be deployed."]}),"\n",(0,t.jsxs)(s.li,{children:["*",(0,t.jsx)(s.strong,{children:"args"}),": Additional arguments for the deployment depending on the device class."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"__enter__",children:(0,t.jsx)("span",{className:"signature-title",children:"__enter__"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"__enter__("}),"self",(0,t.jsx)("b",{children:")"})]}),"\n",(0,t.jsxs)(s.p,{children:["Abstract method to enter a device stream.",(0,t.jsx)(s.br,{}),"\n","Assumes to set the start time for the device stream to check time-out."]}),"\n",(0,t.jsx)(s.h4,{id:"__exit__",children:(0,t.jsx)("span",{className:"signature-title",children:"__exit__"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"__exit__("}),"self, exc_type, exc_value, exc_traceback",(0,t.jsx)("b",{children:")"})]}),"\n",(0,t.jsxs)(s.p,{children:["Abstract method to exit the device stream.",(0,t.jsx)(s.br,{}),"\n","This method should handle cleaning up or closing the device,",(0,t.jsx)(s.br,{}),"\n","and possibly handling exceptions that occurred within the 'with' block."]}),"\n",(0,t.jsx)(s.h4,{id:"__iter__",children:(0,t.jsx)("span",{className:"signature-title",children:"__iter__"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"__iter__("}),"self",(0,t.jsx)("b",{children:")"})]}),"\n",(0,t.jsx)(s.p,{children:"Abstract method to iterate over the frames in the device stream."}),"\n",(0,t.jsx)(s.h4,{id:"__next__",children:(0,t.jsx)("span",{className:"signature-title",children:"__next__"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"__next__("}),"self",(0,t.jsx)("b",{children:")"})," \u2011> ",(0,t.jsx)(s.a,{href:"../devices/frame#frame",children:"Frame"})]}),"\n",(0,t.jsx)(s.p,{children:"Abstract method to get the next frame in the device stream."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Returns:"})," (",(0,t.jsx)(s.a,{href:"../devices/frame#frame",children:"Frame"}),")",(0,t.jsx)(s.br,{}),"\n","The next frame in the device stream."]}),"\n",(0,t.jsx)(s.h4,{id:"check_timeout",children:(0,t.jsx)("span",{className:"signature-title",children:"check_timeout"})}),"\n",(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("b",{children:"check_timeout("}),"self",(0,t.jsx)("b",{children:")"})]}),"\n",(0,t.jsxs)(s.p,{children:["Utility method for checking if the specified timeout if it has been set.",(0,t.jsx)(s.br,{}),"\n","Stops the stream iterator if the timeout has been exceeded."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var i=n(6540);const t={},r=i.createContext(t);function l(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);