"use strict";(self.webpackChunkmodlib_docs=self.webpackChunkmodlib_docs||[]).push([[355],{4714:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"examples/blur","title":"Blur","description":"The blurring functionality in modLib provides tools for privacy and object anonymization in video streams. You can selectively blur faces or entire objects (like people) in real-time.","source":"@site/_docs_versioned_docs/version-1.1.0/examples/blur.md","sourceDirName":"examples","slug":"/examples/blur","permalink":"/en/application-module-library/docs/1.1.0/examples/blur","draft":false,"unlisted":false,"tags":[],"version":"1.1.0","lastUpdatedAt":1758116316000,"sidebarPosition":6,"frontMatter":{"title":"Blur","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Calculate","permalink":"/en/application-module-library/docs/1.1.0/examples/calculate"},"next":{"title":"Recording","permalink":"/en/application-module-library/docs/1.1.0/examples/recording"}}');var i=t(4848),o=t(8453),s=t(6036);const l={title:"Blur",sidebar_position:6},a="Blurring",c={},d=[{value:"Blur Faces",id:"blur-faces",level:2},{value:"Blur Objects",id:"blur-objects",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"blurring",children:"Blurring"})}),"\n",(0,i.jsx)(n.p,{children:"The blurring functionality in modLib provides tools for privacy and object anonymization in video streams. You can selectively blur faces or entire objects (like people) in real-time."}),"\n",(0,i.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Blur Face",src:t(3081).A+"",width:"800",height:"450"})}),(0,i.jsx)("div",{style:{textAlign:"center",fontSize:"0.7em",marginTop:"-20px"},children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Bluring Faces"})})})]}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Blur Object",src:t(1191).A+"",width:"800",height:"450"})}),(0,i.jsx)("div",{style:{textAlign:"center",fontSize:"0.7em",marginTop:"-20px"},children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Bluring Objects"})})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"blur-faces",children:"Blur Faces"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(s.A,{to:"/api-reference/apps/blur#blur_face",children:"Blur Face"})," function allows to blur the face of a person detected by drawing a boundry box using the keypoints of the face and then blurring the region inside the boundary box."]}),"\n",(0,i.jsx)(n.p,{children:"Below a full example of how to use blur_face in the Application Module Library."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="blur_face.py"',children:"from modlib.apps import Annotator, blur\nfrom modlib.devices import AiCamera\nfrom modlib.models.zoo import Posenet\n\ndevice = AiCamera()\nmodel = Posenet()\ndevice.deploy(model)\n\nthreshold = 0.1\n\nwith device as stream:\n    for frame in stream:\n        detections = frame.detections[frame.detections.confidence > threshold]\n        # get the face keypoint_scores and check if their average is greater than threshold\n        filter = [sum(d[:5]) / 5 > threshold for d in detections.keypoint_scores]\n        filtered_detections = detections[filter]\n\n        blur.blur_face(frame, filtered_detections, padding=7)\n        frame.display()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"blur-objects",children:"Blur Objects"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(s.A,{to:"/api-reference/apps/blur#blur_object",children:"Blur Object"})," function allows to blur a person detected and then blurring the region inside the boundary box."]}),"\n",(0,i.jsx)(n.p,{children:"Below a full example of how to use blur_object in the Application Module Library."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="blur_object.py"',children:'from modlib.apps import Annotator, blur\nfrom modlib.devices import AiCamera\nfrom modlib.models.zoo import SSDMobileNetV2FPNLite320x320\n\ndevice = AiCamera()\nmodel = SSDMobileNetV2FPNLite320x320()\ndevice.deploy(model)\n\nannotator = Annotator()\n\nwith device as stream:\n    for frame in stream:\n        detections = frame.detections[frame.detections.confidence > 0.55]\n        detections = detections[detections.class_id == 0]  # Person\n\n        blur.blur_object(frame, detections)\n\n        labels = [f"#{t} {model.labels[c]}: {s:0.2f}" for _, s, c, t in detections]\n        annotator.annotate_boxes(frame, detections, labels=labels)\n\n        frame.display()\n\n'})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},6036:(e,n,t)=>{t.d(n,{A:()=>l});t(6540);var r=t(8774),i=t(3025),o=t(4070),s=t(4848);function l({to:e,children:n,...t}){const l=(0,i.r)("_docs")?.label||"latest",a=(0,o.ir)("_docs"),c=a?.isLast;let d=e;return e.startsWith("/api-reference/")&&(c||(d=`/api-reference/${l}${e.replace("/api-reference","")}`)),(0,s.jsx)(r.A,{to:d,...t,children:n})}},3081:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/blur-face.gif"},1191:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/blur-object.gif"},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var r=t(6540);const i={},o=r.createContext(i);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);