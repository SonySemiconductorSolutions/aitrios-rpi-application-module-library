"use strict";(self.webpackChunkmodlib_docs=self.webpackChunkmodlib_docs||[]).push([[3155],{4598:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"examples/recording","title":"Recording","description":"Recording and playback functionality is essential when building applications. It allows you to capture specific scenarios and replay them as many times as needed. This capability enables repeated testing and optimization of your application on a given scenario without requiring live input. Note that the AI detection results are stored along with the frames, ensuring consistent testing of application behavior.","source":"@site/_docs_versioned_docs/version-1.1.0/examples/recording.md","sourceDirName":"examples","slug":"/examples/recording","permalink":"/en/application-module-library/docs/examples/recording","draft":false,"unlisted":false,"tags":[],"version":"1.1.0","lastUpdatedAt":1749815802000,"sidebarPosition":7,"frontMatter":{"title":"Recording","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Blur","permalink":"/en/application-module-library/docs/examples/blur"},"next":{"title":"Motion","permalink":"/en/application-module-library/docs/examples/motion"}}');var o=i(4848),r=i(8453);const s={title:"Recording",sidebar_position:7},a="Creating and Playback recordings",c={},d=[{value:"Create the recording",id:"create-the-recording",level:2},{value:"Playback the recording",id:"playback-the-recording",level:2}];function l(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"creating-and-playback-recordings",children:"Creating and Playback recordings"})}),"\n",(0,o.jsx)(n.p,{children:"Recording and playback functionality is essential when building applications. It allows you to capture specific scenarios and replay them as many times as needed. This capability enables repeated testing and optimization of your application on a given scenario without requiring live input. Note that the AI detection results are stored along with the frames, ensuring consistent testing of application behavior."}),"\n",(0,o.jsx)(n.p,{children:"Creating and playing back recordings can be used for:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Consistent Testing:"})," Replaying the same scenario ensures reproducible testing conditions."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Faster Development Iteration:"})," No need to re-run the AI model on a physical device every time, speeding up debugging and development."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Benchmarking & Performance Analysis:"})," Compare different algorithm versions against the same recorded data."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Offline Testing & Debugging:"})," Work with recorded data without requiring live camera input."]}),"\n"]}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Speed",src:i(5859).A+"",width:"600",height:"338"})}),(0,o.jsx)("div",{style:{textAlign:"center",fontSize:"0.7em",marginTop:"-20px"},children:(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Recording"})})})]}),(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Speed",src:i(1969).A+"",width:"600",height:"338"})}),(0,o.jsx)("div",{style:{textAlign:"center",fontSize:"0.7em",marginTop:"-20px"},children:(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Playback"})})})]})]}),"\n",(0,o.jsx)(n.h2,{id:"create-the-recording",children:"Create the recording"}),"\n",(0,o.jsxs)(n.p,{children:["The following script demonstrates how to create a recording using ",(0,o.jsx)(n.code,{children:"modlib"}),":\n(Press ",(0,o.jsx)(n.code,{children:"esc"})," to end the recording.)"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",metastring:'title="rec.py"',children:"from modlib.apps import Annotator\nfrom modlib.devices import AiCamera\nfrom modlib.models.zoo import Posenet\n\nfrom modlib.devices.playback import Recorder, JsonCodec, PickleCodec\n\ndevice = AiCamera()\nmodel = Posenet()\ndevice.deploy(model)\n\nannotator = Annotator(thickness=1, text_thickness=1, text_scale=0.4)\nrec = Recorder(directory='./temp/recordings', codec=JsonCodec())\n\nwith device as stream:\n    for frame in stream:\n        \n        # Save the frame to the recording immediately to ensure it is unaltered.\n        rec.add(frame)\n\n        detections = frame.detections[frame.detections.confidence > 0.4]\n        annotator.annotate_keypoints(frame, detections)\n        frame.display()\n"})}),"\n",(0,o.jsx)(n.h2,{id:"playback-the-recording",children:"Playback the recording"}),"\n",(0,o.jsx)(n.p,{children:"The following script demonstrates how to play back a previously recorded session:\nEnsure that you specify the path to the newly created recording file and that the codec used matches the one with which the recording was created (in this case, JsonCodec)."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",metastring:'title="play.py"',children:'from modlib.apps import Annotator\nfrom modlib.devices.playback import Playback, JsonCodec, PickleCodec\n\ndevice = Playback(recording="./temp/recordings/recording_2025-03-10_14-12-00.json", codec=JsonCodec())\nannotator = Annotator(thickness=1, text_thickness=1, text_scale=0.4)\n\nwith device as stream:\n    for frame in stream:\n        print(frame.detections)\n\n        detections = frame.detections[frame.detections.confidence > 0.4]\n        annotator.annotate_keypoints(frame, detections)\n        frame.display()\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{}),(0,o.jsx)(n.p,{children:"Note that the Playback device does not require any physically connected camera device."})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},1969:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/playback-f58be76369a1df18677749877d36b7ae.gif"},5859:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/recording-234c890d5543d24f4bb9ccbbea8069de.gif"},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>a});var t=i(6540);const o={},r=t.createContext(o);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);