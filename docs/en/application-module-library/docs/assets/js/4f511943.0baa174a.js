"use strict";(self.webpackChunkmodlib_docs=self.webpackChunkmodlib_docs||[]).push([[1850],{4666:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"examples/area","title":"Area","description":"The Area component allows you to define a polygonal region within a frame by specifying a list of at least three points. Each point is defined as a pair of normalized coordinates [x, y], where x and y are in the range [0, 1], relative to the frame dimensions.","source":"@site/_docs_versioned_docs/version-1.0.0/examples/area.md","sourceDirName":"examples","slug":"/examples/area","permalink":"/en/application-module-library/docs/1.0.0/examples/area","draft":false,"unlisted":false,"tags":[],"version":"1.0.0","lastUpdatedAt":1742829948000,"sidebarPosition":1,"frontMatter":{"title":"Area","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Tracker","permalink":"/en/application-module-library/docs/1.0.0/examples/tracker"},"next":{"title":"Counter","permalink":"/en/application-module-library/docs/1.0.0/examples/counter"}}');var o=t(4848),r=t(8453),i=t(6036);const s={title:"Area",sidebar_position:1},l="Area",c={},d=[];function p(e){const n={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"area",children:"Area"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(i.A,{to:"/api-reference/apps/area#area",children:"Area"})," component allows you to define a polygonal region within a frame by specifying a list of at least three points. Each point is defined as a pair of ",(0,o.jsx)(n.strong,{children:"normalized"})," coordinates ",(0,o.jsx)(n.code,{children:"[x, y]"}),", where x and y are in the range ",(0,o.jsx)(n.code,{children:"[0, 1]"}),", relative to the frame dimensions."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"area.contains(detections)"})," method returns a boolean mask indicating whether the center of each detection's bounding box is inside the defined polygon."]}),"\n",(0,o.jsx)(n.p,{children:"The Area component enables more detailed analysis. Using the obtained mask one can:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Filter"})," all the detections to only include those within the specified area."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Count"})," the number of detections that fall inisde the area."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Below a full example of how to use Area's in the Application Module Library."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",metastring:'title="area.py"',children:'from modlib.apps import Annotator, Area\nfrom modlib.devices import AiCamera\nfrom modlib.models.zoo import SSDMobileNetV2FPNLite320x320\n\ndevice = AiCamera()\nmodel = SSDMobileNetV2FPNLite320x320()\ndevice.deploy(model)\n\nannotator = Annotator(thickness=1, text_thickness=1, text_scale=0.4)\n\nareas = [\n    Area(points=[[0.1, 0.1], [0.1, 0.9], [0.4, 0.9], [0.4, 0.1]]),  # area 1\n    Area(points=[[0.6, 0.2], [0.8, 0.1], [0.9, 0.4], [0.8, 0.8], [0.6, 0.7]]),  # area 2\n]\n\nwith device as stream:\n    for frame in stream:\n        detections = frame.detections[frame.detections.confidence > 0.55]\n        detections = detections[detections.class_id == 0]  # Person\n\n        for area in areas:\n            d = detections[area.contains(detections)]\n            color = (0, 255, 0) if len(d) > 0 else (0, 0, 255)\n            annotator.annotate_area(frame, area=area, color=color, label=f"Count: {len(d)}")\n\n        labels = [f"#{model.labels[c]}: {s:0.2f}" for _, s, c, _ in detections]\n        annotator.annotate_boxes(frame, detections, labels=labels)\n        frame.display()\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},6036:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var a=t(8774),o=t(3025),r=t(4070),i=t(4848);function s({to:e,children:n,...t}){const s=(0,o.r)("_docs")?.label||"latest",l=(0,r.ir)("_docs"),c=l?.isLast;let d=e;return e.startsWith("/api-reference/")&&(c||(d=`/api-reference/${s}${e.replace("/api-reference","")}`)),(0,i.jsx)(a.A,{to:d,...t,children:n})}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var a=t(6540);const o={},r=a.createContext(o);function i(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);