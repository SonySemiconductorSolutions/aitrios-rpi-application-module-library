"use strict";(self.webpackChunkmodlib_docs=self.webpackChunkmodlib_docs||[]).push([[5016],{3631:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"devices/ai_camera","title":"AiCamera","description":"Compatible with all Raspberry Pi computers as host, the Raspberry Pi AI Camera takes advantage of Sony\u2019s IMX500 Intelligent Vision Sensor to help you create impressive vision AI applications and neural network models using the on-module AI processor.","source":"@site/_docs_versioned_docs/version-1.1.0/devices/ai_camera.md","sourceDirName":"devices","slug":"/devices/ai_camera","permalink":"/en/application-module-library/docs/devices/ai_camera","draft":false,"unlisted":false,"tags":[],"version":"1.1.0","lastUpdatedAt":1750065085000,"sidebarPosition":0,"frontMatter":{"title":"AiCamera","sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"Devices","permalink":"/en/application-module-library/docs/category/devices"},"next":{"title":"Triton\xae Smart","permalink":"/en/application-module-library/docs/devices/triton"}}');var s=t(4848),i=t(8453);t(1470),t(9365),t(6036);const a={title:"AiCamera",sidebar_position:0},l="Raspberry Pi AI Camera",o={},d=[{value:"Installation",id:"installation",level:2},{value:"1) Hardware setup",id:"1-hardware-setup",level:3},{value:"2) Install IMX500 Firmware",id:"2-install-imx500-firmware",level:3},{value:"3) Verify your setup",id:"3-verify-your-setup",level:3},{value:"Camera Specifications",id:"camera-specifications",level:2}];function c(e){const r={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"raspberry-pi-ai-camera",children:"Raspberry Pi AI Camera"})}),"\n",(0,s.jsxs)(r.p,{children:["Compatible with all Raspberry Pi computers as host, the ",(0,s.jsx)(r.a,{href:"https://www.raspberrypi.com/products/ai-camera/",children:"Raspberry Pi AI Camera"})," takes advantage of Sony\u2019s IMX500 Intelligent Vision Sensor to help you create impressive vision AI applications and neural network models using the on-module AI processor."]}),"\n",(0,s.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(r.h3,{id:"1-hardware-setup",children:"1) Hardware setup"}),"\n",(0,s.jsxs)(r.p,{children:["We expect the Raspberry Pi computer to be installed correclty with the AiCamera connected and access to the board terminal. For a detailed description on how to install a Raspberry Pi Camera see ",(0,s.jsx)(r.a,{href:"https://www.raspberrypi.com/documentation/accessories/camera.html#install-a-raspberry-pi-camera",children:"this"})," link."]}),"\n",(0,s.jsx)(r.h3,{id:"2-install-imx500-firmware",children:"2) Install IMX500 Firmware"}),"\n",(0,s.jsx)(r.p,{children:"Ensure that your Raspberry Pi runs the latest software:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-shell",children:"sudo apt update && sudo apt full-upgrade\nsudo apt install imx500-all\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"This command:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"installs the /lib/firmware/imx500_loader.fpk and /lib/firmware/imx500_firmware.fpk firmware files required to operate the IMX500 sensor"}),"\n",(0,s.jsx)(r.li,{children:"places a number of neural network model firmware files in /usr/share/imx500-models/"}),"\n",(0,s.jsx)(r.li,{children:"installs the Sony network model packaging tools"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Now that you\u2019ve installed the prerequisites, restart your Raspberry Pi:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-shell",children:"sudo reboot\n"})}),"\n",(0,s.jsx)(r.h3,{id:"3-verify-your-setup",children:"3) Verify your setup"}),"\n",(0,s.jsxs)(r.p,{children:["If you haven't already done so, make sure to install modlib (in your virtual environment).\n(Optional) Create and enable a virtual environment.\n",(0,s.jsx)(r.strong,{children:"Required Python version: 3.11"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-shell",children:"python -m venv .venv\nsource .venv/bin/activate\n"})}),"\n",(0,s.jsx)(r.p,{children:"One can use pip to install the library in your project Python environment."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-shell",children:"pip install git+https://github.com/SonySemiconductorSolutions/aitrios-rpi-application-module-library.git\n"})}),"\n",(0,s.jsxs)(r.admonition,{type:"warning",children:[(0,s.jsx)(r.mdxAdmonitionTitle,{}),(0,s.jsx)(r.p,{children:"We are currently working on publishing modlib to the PyPI index. This will make it easier for developers to install and manage the library using pip and allow for a more streamlined setup process. Stay tuned for updates!"})]}),"\n",(0,s.jsxs)(r.p,{children:["Let's verify that our camera is connected and the Application Module Library is installed correctly.",(0,s.jsx)(r.br,{}),"\n","Create a new Python file named ",(0,s.jsx)(r.code,{children:"hello_world.py"}),". and run the following code to see a camera preview."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",metastring:'title="hello_world.py"',children:"from modlib.devices import AiCamera\n\ndevice = AiCamera()\n\nwith device as stream:\n    for frame in stream:\n        frame.display()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"camera-specifications",children:"Camera Specifications"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Camera"}),(0,s.jsx)(r.th,{}),(0,s.jsx)(r.th,{})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Resolution"}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"4056(H)\xd73040(V), 12.3 MP"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Sensor size"}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Diagonal 7.857 mm (1/2.3 type)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Pixel size"}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"1.55 \u03bcm (H) \xd7 1.55 \u03bcm (V)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Field of View"}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"78.3 (\xb13) degree FoV with manual/mechanical adjustable focus"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"F-stop (Aperture)"}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"F1.79 Focal Ratio"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Frame rate"}),(0,s.jsx)(r.td,{children:"12.3 MP, 4056\xd73040"}),(0,s.jsx)(r.td,{children:"10 fps (Full Resolution)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"3.1 MP, 2028\xd71520"}),(0,s.jsx)(r.td,{children:"30 fps (2\xd72 binned)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Request rate (rps modlib)"}),(0,s.jsx)(r.td,{children:"12.3 MP, 4056\xd73040"}),(0,s.jsx)(r.td,{children:"10 rps (Full Resolution)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"3.1 MP, 2028\xd71520"}),(0,s.jsx)(r.td,{children:"30 rps (2\xd72 binned)"})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:["As published in: ",(0,s.jsx)(r.a,{href:"https://datasheets.raspberrypi.com/camera/ai-camera-product-brief.pdf",children:"https://datasheets.raspberrypi.com/camera/ai-camera-product-brief.pdf"})]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"IMX500"}),(0,s.jsx)(r.th,{}),(0,s.jsx)(r.th,{})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Input tensor size"}),(0,s.jsx)(r.td,{children:"Min"}),(0,s.jsx)(r.td,{children:"RGB: 64(H) x 64(V)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Max"}),(0,s.jsx)(r.td,{children:"RGB: 640 x 640"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Input data type"}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"int8 or uint8"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Supported ML frameworks"}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"PyTorch (ONNX), TensorFlow (Keras)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Memory size"}),(0,s.jsx)(r.td,{children:"network + working memory"}),(0,s.jsx)(r.td,{children:"8,388,480 bytes (8 MiB)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"DSP (*)"}),(0,s.jsx)(r.td,{children:"Number of MACs"}),(0,s.jsx)(r.td,{children:"2304 MACs"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Peak Power efficiency"}),(0,s.jsx)(r.td,{children:"4.97 TOPS / W"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Procesor Clock"}),(0,s.jsx)(r.td,{children:"262.5 MHz"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Sensor Readout time (*)"}),(0,s.jsx)(r.td,{children:"12.3 MP, 4056\xd73040"}),(0,s.jsx)(r.td,{children:"16.52 msec"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"3.1 MP, 2028\xd71520"}),(0,s.jsx)(r.td,{children:"5.52 msec"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Power Consumption (*)"}),(0,s.jsx)(r.td,{children:"12.3 MP, 4056\xd73040"}),(0,s.jsx)(r.td,{children:"278.8 mW"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"3.1 MP, 2028\xd71520"}),(0,s.jsx)(r.td,{children:"379.1 mW"})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:["(*) As published in: ",(0,s.jsx)(r.a,{href:"https://ieeexplore.ieee.org/document/9365965",children:"https://ieeexplore.ieee.org/document/9365965"}),(0,s.jsx)(r.br,{}),"\n","For more information see: ",(0,s.jsx)(r.a,{href:"https://developer.sony.com/imx500/imx500-key-specifications",children:"https://developer.sony.com/imx500/imx500-key-specifications"})]})]})}function u(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},9365:(e,r,t)=>{t.d(r,{A:()=>a});t(6540);var n=t(4164);const s={tabItem:"tabItem_Ymn6"};var i=t(4848);function a({children:e,hidden:r,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,n.A)(s.tabItem,t),hidden:r,children:e})}},1470:(e,r,t)=>{t.d(r,{A:()=>w});var n=t(6540),s=t(4164),i=t(3104),a=t(6347),l=t(205),o=t(7485),d=t(1682),c=t(679);function u(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:r,children:t}=e;return(0,n.useMemo)((()=>{const e=r??function(e){return u(e).map((({props:{value:e,label:r,attributes:t,default:n}})=>({value:e,label:r,attributes:t,default:n})))}(t);return function(e){const r=(0,d.XI)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function p({value:e,tabValues:r}){return r.some((r=>r.value===e))}function m({queryString:e=!1,groupId:r}){const t=(0,a.W6)(),s=function({queryString:e=!1,groupId:r}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:e,groupId:r});return[(0,o.aZ)(s),(0,n.useCallback)((e=>{if(!s)return;const r=new URLSearchParams(t.location.search);r.set(s,e),t.replace({...t.location,search:r.toString()})}),[s,t])]}function x(e){const{defaultValue:r,queryString:t=!1,groupId:s}=e,i=h(e),[a,o]=(0,n.useState)((()=>function({defaultValue:e,tabValues:r}){if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=r.find((e=>e.default))??r[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:r,tabValues:i}))),[d,u]=m({queryString:t,groupId:s}),[x,j]=function({groupId:e}){const r=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,s]=(0,c.Dv)(r);return[t,(0,n.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:s}),f=(()=>{const e=d??x;return p({value:e,tabValues:i})?e:null})();(0,l.A)((()=>{f&&o(f)}),[f]);return{selectedValue:a,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),j(e)}),[u,j,i]),tabValues:i}}var j=t(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function y({className:e,block:r,selectedValue:t,selectValue:n,tabValues:a}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),d=e=>{const r=e.currentTarget,s=l.indexOf(r),i=a[s].value;i!==t&&(o(r),n(i))},c=e=>{let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;r=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;r=l[t]??l[l.length-1];break}}r?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":r},e),children:a.map((({value:e,label:r,attributes:n})=>(0,b.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:c,onClick:d,...n,className:(0,s.A)("tabs__item",f.tabItem,n?.className,{"tabs__item--active":t===e}),children:r??e},e)))})}function v({lazy:e,children:r,selectedValue:t}){const i=(Array.isArray(r)?r:[r]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===t));return e?(0,n.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:i.map(((e,r)=>(0,n.cloneElement)(e,{key:r,hidden:e.props.value!==t})))})}function g(e){const r=x(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,b.jsx)(y,{...r,...e}),(0,b.jsx)(v,{...r,...e})]})}function w(e){const r=(0,j.A)();return(0,b.jsx)(g,{...e,children:u(e.children)},String(r))}},6036:(e,r,t)=>{t.d(r,{A:()=>l});t(6540);var n=t(8774),s=t(3025),i=t(4070),a=t(4848);function l({to:e,children:r,...t}){const l=(0,s.r)("_docs")?.label||"latest",o=(0,i.ir)("_docs"),d=o?.isLast;let c=e;return e.startsWith("/api-reference/")&&(d||(c=`/api-reference/${l}${e.replace("/api-reference","")}`)),(0,a.jsx)(n.A,{to:c,...t,children:r})}},8453:(e,r,t)=>{t.d(r,{R:()=>a,x:()=>l});var n=t(6540);const s={},i=n.createContext(s);function a(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);