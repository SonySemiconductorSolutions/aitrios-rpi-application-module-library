"use strict";(self.webpackChunkmodlib_docs=self.webpackChunkmodlib_docs||[]).push([[5972],{885:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"examples/motion","title":"Motion","description":"The Motion component is designed to identify the change in Motion from frame to frame. It subtracts the current frame from the previous frame to see the change in pixel values. These changes are then turned into bbox results and can be used in combination with other modules.","source":"@site/_docs_versioned_docs/version-1.2.0/examples/motion.md","sourceDirName":"examples","slug":"/examples/motion","permalink":"/en/application-module-library/docs/1.2.0/examples/motion","draft":false,"unlisted":false,"tags":[],"version":"1.2.0","lastUpdatedAt":1764251994000,"sidebarPosition":8,"frontMatter":{"title":"Motion","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Recording","permalink":"/en/application-module-library/docs/1.2.0/examples/recording"},"next":{"title":"Instance Segmentation","permalink":"/en/application-module-library/docs/1.2.0/examples/instance_segmentation"}}');var i=n(4848),a=n(8453),r=n(6036);const s={title:"Motion",sidebar_position:8},c="Motion",m={},d=[];function l(e){const t={a:"a",code:"code",h1:"h1",header:"header",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"motion",children:"Motion"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(r.A,{to:"/api-reference/apps/motion#motion",children:"Motion"})," component is designed to identify the change in Motion from frame to frame. It subtracts the current frame from the previous frame to see the change in pixel values. These changes are then turned into bbox results and can be used in combination with other modules."]}),"\n",(0,i.jsxs)("div",{style:{display:"flex",gap:"2rem",alignItems:"flex-start"},children:[(0,i.jsx)("div",{style:{flex:"1"},children:(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Motion",src:n(1073).A+"",width:"600",height:"338"})})}),(0,i.jsx)("div",{style:{flex:"1"},children:(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Motion Matcher",src:n(5044).A+"",width:"600",height:"338"})})})]}),"\n",(0,i.jsx)(t.p,{children:"Below an example of how one can use the Motion in the Application Module Library."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",metastring:'title="motion.py"',children:"import cv2\nfrom modlib.devices import AiCamera\nfrom modlib.apps import Annotator\nfrom modlib.apps.motion import Motion\n\ndevice = AiCamera(frame_rate=15)\nmotion = Motion()\nannotator = Annotator(thickness=2)\n\nwith device as stream:\n    for frame in stream:\n        motion_bboxes = motion.detect(frame)\n        frame.image = annotator.annotate_boxes(frame,motion_bboxes,skip_label=True)\n        frame.display()\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Motion can be used with other modules like the ",(0,i.jsx)(t.a,{href:"/en/application-module-library/docs/1.2.0/examples/matcher",children:"Matcher"})," module, to match motion with Detections produced by any AI model. This provides additional information that could be valueable to applications where movement is involved."]}),"\n",(0,i.jsx)(t.p,{children:"An example of how to use the Matcher together below:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",metastring:'title="motion_matcher.py"',children:'import cv2\nfrom modlib.devices import AiCamera\nfrom modlib.apps import Annotator, Matcher\nfrom modlib.apps.motion import Motion\nfrom modlib.models.zoo import SSDMobileNetV2FPNLite320x320\n\ndevice = AiCamera(frame_rate=15)\nmodel = SSDMobileNetV2FPNLite320x320()\ndevice.deploy(model)\n\nmotion = Motion()\nannotator = Annotator(thickness=2)\nmatcher = Matcher()\n\nwith device as stream:\n    for frame in stream:\n        detections = frame.detections[frame.detections.confidence > 0.50]\n        motion_bboxes = motion.detect(frame)\n        detections = detections[matcher.match(detections, motion_bboxes)]\n\n        labels = [f"# MOVING" for _, s, c, _ in detections]\n        annotator.annotate_boxes(frame, detections, labels=labels)\n        annotator.annotate_boxes(frame,motion_bboxes,skip_label=True)\n        frame.display()\n\n'})})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},6036:(e,t,n)=>{n.d(t,{A:()=>s});n(6540);var o=n(8774),i=n(3025),a=n(4070),r=n(4848);function s({to:e,children:t,...n}){const s=(0,i.r)("_docs")?.label||"latest",c=(0,a.ir)("_docs"),m=c?.isLast;let d=e;return e.startsWith("/api-reference/")&&(m||(d=`/api-reference/${s}${e.replace("/api-reference","")}`)),(0,r.jsx)(o.A,{to:d,...n,children:t})}},5044:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/matcher_motion.gif"},1073:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/motion.gif"},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var o=n(6540);const i={},a=o.createContext(i);function r(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);